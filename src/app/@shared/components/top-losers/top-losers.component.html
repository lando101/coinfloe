<div class="text-start {{ theme }} theme-container">
  <div class="position-relative" *ngIf="coins?.length > 1; else loading">
    <owl-carousel-o #owlCar  class="w-100" [options]="customOptions" (changed)="startPosition = $event.startPosition" (dragging)="isDragging = $event.dragging">
      <ng-template [width]="90" carouselSlide>
      </ng-template>
      <ng-template [width]="225" *ngFor="let coin of coins?.slice(0, 12)" carouselSlide>
        <button [disabled]="isDragging" aTilt [tiltSettings]="tileSettings" class="p-0" (click)="openBottomSheet(coin)">
          <app-coin-card [coin]="coin" [theme]="theme"></app-coin-card>
        </button>
      </ng-template>
    </owl-carousel-o>
    <div class="owl-fade-left d-flex justify-content-center align-items-center">
      <button *ngIf="startPosition!=0" mat-icon-button class="btn owl-dir-button" (click)="owlCar.prev()">
        <i class="bi bi-chevron-left"></i>
      </button>
    </div>
    <div class="owl-fade-right d-flex justify-content-center align-items-center">
      <button mat-icon-button class="btn owl-dir-button" (click)="owlCar.next()">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </div>
</div>

<ng-template #loading>
  <owl-carousel-o class="w-100" [options]="customOptions">
    <ng-template [width]="90" carouselSlide></ng-template>
    <ng-template [width]="225" carouselSlide>
      <app-coin-card-loader [theme]="theme"></app-coin-card-loader>
    </ng-template>
    <ng-template [width]="225" carouselSlide>
      <app-coin-card-loader [theme]="theme"></app-coin-card-loader>
    </ng-template>
    <ng-template [width]="225" carouselSlide>
      <app-coin-card-loader [theme]="theme"></app-coin-card-loader>
    </ng-template>
    <ng-template [width]="225" carouselSlide>
      <app-coin-card-loader [theme]="theme"></app-coin-card-loader>
    </ng-template>
    <ng-template [width]="225" carouselSlide>
      <app-coin-card-loader [theme]="theme"></app-coin-card-loader>
    </ng-template>
    <ng-template [width]="225" carouselSlide>
      <app-coin-card-loader [theme]="theme"></app-coin-card-loader>
    </ng-template>
    <ng-template [width]="225" carouselSlide>
      <app-coin-card-loader [theme]="theme"></app-coin-card-loader>
    </ng-template>
  </owl-carousel-o>
</ng-template>
